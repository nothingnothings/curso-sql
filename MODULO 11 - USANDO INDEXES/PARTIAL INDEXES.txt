








OK... FALAMOS MT SOBRE INDEXES...












--> POR FIM, O PROFESSOR QUER FALAR SOBRE PARTIAL INDEXES...








MAS É CLARO QUE ESSE TIPO DE INDEX 

NÃO 


É SUPORTADO 

POR 

TODOS 

OS DATABASE SYSTEMS...














--> OK...









EM GERAL,

QUANDO TRABALAHMOS COM INDEXES,


VC SEMPRE 



TEM
DE 


EXAMINAR A DOCUMENTAÇAÕ DO SOFTWARE QUE VC ESTÁ USANDO,

PARA 

SABER QUE TIPO DE 

INDEX 



ELE SUPORTA...














--> O PROFESSOR VAI MOSTRAR 

BREVEMENTE 

O APPROACH PARA CRIAR 


1 

PARTIAL INDEX,

LÁ 



NO POSTGRESQL...














VC COMEÇA PELA KEYWORD DE 'CREATE INDEX'...










--> AÍ COLOQUE O INDEX NAME...













--> OK... O PARTIAL INDEX É CRIADO SOBRE '_PARTE DE NOSSA TABLE' (apenas alguns rows/parte dos rows)...



DIGAMOS QUE QUEREMOS CRIAR 1 PARTIAL INDEX PARA APENAS OS SALARIES MAIORES DO QUE '12000'....












TALVEZ QUEIRAMOS FAZER ISSO PQ _ NÃO VAMOS 


RODAR 


MTAS QUERIES CONTRA SALÁRIOS MENORES DO QUE 12.000...







OU ENTAÕ 

PQ 




TEREMOS 1 MONTE 
DE 

QUERIES 



CONTRA _ SALÁRIOS MAIORES DO QUE 12.000...








(WHERE CONDITION COM UM MONTE DE SALÁRIOS MAIORES DO QUE 12.000)









--> NESSE CASO,




ARMAZENAR 

TODOS 

OS SALARIES 
 

 NO INDEX SERIA INEFICIENTE (


    se há 1 porção significante dos indexes que 

    nem mesmo 

    entrará 

    na query de qualquer forma...
 ),








 E __ AÍ __ SE TORNARIA PROVEITOSO 





 INDEXAR APENAS OS VALUES QUE 

 SÃO 

 USADOS 1 MONTE (para conseguir mais performance de nosso index)... 



















 OK...







 FAZEMOS COMO ANTES,


COLOCAMOS O NOME DO INDEX E TAMBEM 

O NOME DA COLUMN  QUE DEVE SER INDEXADA, com o 'ON'...














--> MAS SE QUEREMOS QUE SEJA 1 PARTIAL INDEX,

DEVEMOS COLOCAR 


A CLAUSE DE 'WHERE'


nesse COMANDO,

tipo assim:










ANTES:



CREATE INDEX  salaryidx ON users (salary) 









DEPOIS:




CREATE INDEX  salaryidx ON users (salary) 
WHERE ;













CERTO... 







NESSA CLAUSE DE 'WHERE',


COLOCAMOS JUSTAMENTE 'salary > 12000',


PARA INFORMAR QUE 

ESSE INDEX DEVE SER FORMADO APENAS 

PELOS ROWS QUE TENHAM
 



O VALUE DESSA COLUMN MAIOR DO QUE 12K..




















E ESSE COMANDO DE CRIAÇÃO DE PARTIAL INDEXES FUNCIONA APENAS 

NO POSTGRES:





CREATE INDEX  salaryidxpartial ON users (salary)  --- A DIFERENÇA DE INDEXES PARA PARTIAL INDEXES, NA SUA DEFINIÇÃO, É A KEYWORD DE 'WHERE'...
WHERE salary > 12000;









N FUNCIONA NO MYSQL...















--> ok...






ISSO CRIOU ESSE PARTIAL INDEX,
PARA O 

POSTGRESQL..









OK... EXISTIRÃO CASOS EM QUE 

ESSES 

'PARTIAL INDEXES'
SERÃO ÚTEIS...